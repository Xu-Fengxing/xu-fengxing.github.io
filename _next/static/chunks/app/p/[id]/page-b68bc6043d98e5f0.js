(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[841],{3999:(e,t,r)=>{"use strict";r.d(t,{cn:()=>l});var s=r(2596),n=r(9688);function l(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,n.QP)((0,s.$)(t))}},5815:(e,t,r)=>{Promise.resolve().then(r.bind(r,9932))},9065:(e,t,r)=>{"use strict";r.d(t,{OZ:()=>n,rM:()=>o,yG:()=>s});let s=e=>{let t=0;for(let r=0;r<e.length;r++)t=(t<<5)-t+e.charCodeAt(r),t&=t;let r="",s=Math.abs(t);for(let e=0;e<4;e++)r="abcdefghijklmnopqrstuvwxyz0123456789"[s%36]+r,s=Math.floor(s/36);return r},n=[{id:1,title:"文章链接的生成原理",category:"科技",tags:["技术","算法","哈希"],date:"2025年10月12日",content:"## 什么是文章链接？\n每篇文章都有一个独特的链接，比如这篇文章的链接是：`/p/".concat(s("文章链接的生成原理"),'`\n## 链接是怎么生成的？\n### 第一步：把标题变成数字\n就像给每个字母分配一个号码一样：\n- 文 = 25991\n- 章 = 31456\n- 链 = 38142\n- 接 = 25509\n- 的 = 30340\n- 生 = 29983\n- 成 = 25104\n- 原 = 21407\n- 理 = 29702\n### 第二步：计算哈希值\n用一个特殊的数学公式把这些数字组合起来，得到一个很大的数字。这个公式确保：\n- 相同的标题总是得到相同的数字\n- 不同的标题得到不同的数字\n### 第三步：转换成4位代码\n把大数字转换成4位代码，只使用：\n- 26个小写字母：a b c d e f g h i j k l m n o p q r s t u v w x y z\n- 10个数字：0 1 2 3 4 5 6 7 8 9\n就像把十进制数字转换成36进制一样！\n## 为什么这样做？\n1. **唯一性**：每篇文章都有独特的链接\n2. **简洁性**：链接很短，只有4个字符\n3. **友好性**：只包含字母和数字，适合在网址中使用\n4. **一致性**：相同的标题总是生成相同的链接\n## 实际例子\n"文章链接的生成原理" → 哈希计算 → 36进制转换 → "').concat(s("文章链接的生成原理"),'"\n所以这篇文章的完整链接就是：`/p/').concat(s("文章链接的生成原理"),"`\n是不是很有趣？这就是现代网站生成文章链接的简单原理！")}],l=e=>e.replace(/^#{1,6}\s+/gm,"").replace(/\*\*(.*?)\*\*/g,"$1").replace(/\*(.*?)\*/g,"$1").replace(/`(.*?)`/g,"$1").replace(/^\s*[-*+]\s+/gm,"• ").replace(/^\s*\d+\.\s+/gm,"").replace(/\n+/g," ").trim(),a=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,r=l(e);return r.length>t?r.substring(0,t)+"...":r},c=()=>n.map(e=>({id:e.id,category:e.category,title:e.title,excerpt:a(e.content),date:e.date,readTime:"3 分钟"})),o=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:6;return c().slice(0,e)}},9685:(e,t,r)=>{"use strict";r.d(t,{Sidebar:()=>h});var s=r(5155),n=r(7340),l=r(7434),a=r(3786),c=r(1284),o=r(3999),i=r(5695);let d=[{icon:n.A,label:"首页",active:!0},{icon:l.A,label:"博客",active:!1},{icon:a.A,label:"链接",active:!1},{icon:c.A,label:"关于",active:!1}];function h(){let e=(0,i.useRouter)(),t=(0,i.usePathname)(),r=(()=>{switch(t){case"/":return"首页";case"/blog":return"博客";case"/links":return"链接";case"/about":return"关于";default:if(t.startsWith("/p/"))return null;return"首页"}})(),n=t=>{switch(t){case"首页":e.push("/");break;case"博客":e.push("/blog");break;case"链接":e.push("/links");break;case"关于":e.push("/about")}};return(0,s.jsxs)("aside",{className:"hidden lg:flex w-64 h-screen fixed left-0 top-0 flex-col border-r border-border/40 bg-sidebar p-6",children:[(0,s.jsx)("div",{className:"mb-6",children:(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsx)("div",{className:"h-10 w-10 flex items-center justify-center",children:(0,s.jsxs)("svg",{viewBox:"0 0 24 24",className:"h-7 w-7 text-white fill-current",children:[(0,s.jsx)("rect",{x:"2",y:"2",width:"9",height:"9",fill:"currentColor"}),(0,s.jsx)("rect",{x:"13",y:"2",width:"9",height:"9",fill:"currentColor"}),(0,s.jsx)("rect",{x:"2",y:"13",width:"9",height:"9",fill:"currentColor"}),(0,s.jsx)("rect",{x:"13",y:"13",width:"9",height:"9",fill:"currentColor"})]})}),(0,s.jsx)("div",{className:"flex-1",children:(0,s.jsx)("h1",{className:"text-xl font-bold text-foreground leading-tight",children:"forthing.top"})})]})}),(0,s.jsx)("nav",{className:"space-y-2",children:d.map(e=>{let t=e.icon,l=r===e.label;return(0,s.jsxs)("button",{onClick:()=>n(e.label),className:(0,o.cn)("flex w-full items-center gap-3 rounded-lg px-4 py-2.5 text-sm font-medium transition-colors duration-200",l?"bg-sidebar-accent text-sidebar-accent-foreground":"text-sidebar-foreground hover:bg-sidebar-accent/50"),children:[(0,s.jsx)(t,{className:"h-4 w-4 flex-shrink-0"}),e.label]},e.label)})}),(0,s.jsxs)("div",{className:"mt-auto pt-6 space-y-1 text-center",children:[(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:"\xa9 2025 forthing.top"}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:(0,s.jsx)("a",{href:"https://icp.gov.moe/?keyword=20250119",target:"_blank",rel:"noopener noreferrer",className:"hover:text-foreground transition-colors duration-200",children:"萌ICP备20250119号"})})]})]})}},9932:(e,t,r)=>{"use strict";r.d(t,{default:()=>o});var s=r(5155),n=r(5695),l=r(2115),a=r(9685),c=r(9065);function o(e){let{articleId:t}=e,r=(0,n.useRouter)(),o=(0,n.useSearchParams)(),[i,d]=(0,l.useState)(0),[h,x]=(0,l.useState)([]),m=(0,l.useRef)(null),u=e=>e.replace(/\*\*(.*?)\*\*/g,"$1"),g=(e=>{for(let t of c.OZ)if(e===(0,c.yG)(t.title))return t;return null})(t);(0,l.useEffect)(()=>{if(!g)return;let e=!1,t=()=>{e||(requestAnimationFrame(()=>{let t=window.scrollY,r=window.innerHeight;d(Math.min(Math.max(t/(document.documentElement.scrollHeight-r)*100,0),100));let s=[],n=-1,l=1/0;if(g.content.split("\n").forEach((e,t)=>{if(e.startsWith("## ")||e.startsWith("### ")){let e=document.getElementById("heading-".concat(t));if(e){let a=e.getBoundingClientRect();if(a.top<=r-50&&a.bottom>=100){s.push("heading-".concat(t));let e=Math.abs(a.top-r/2);e<l&&(l=e,n=t)}}}}),x(s),-1!==n&&m.current){let e=m.current.querySelector('a[href="#heading-'.concat(n,'"]'));if(e){let t=m.current,r=e.getBoundingClientRect(),s=t.getBoundingClientRect(),n=r.top-s.top+t.scrollTop,l=t.clientHeight/2,a=n+r.height/2;t.scrollTo({top:Math.max(0,a-l),behavior:"smooth"})}}e=!1}),e=!0)};return t(),window.addEventListener("scroll",t,{passive:!0}),()=>{window.removeEventListener("scroll",t)}},[g]);let f=e=>{r.push("/blog?category=".concat(encodeURIComponent(e)))},p=e=>{r.push("/blog?tag=".concat(encodeURIComponent(e)))};return g?(0,s.jsx)("div",{className:"min-h-screen bg-background",children:(0,s.jsxs)("div",{className:"flex",children:[(0,s.jsx)(a.Sidebar,{}),(0,s.jsx)("div",{className:"flex-1 lg:ml-64",children:(0,s.jsx)("main",{className:"px-6 lg:px-12 py-16 min-h-screen",children:(0,s.jsxs)("div",{className:"max-w-6xl mx-auto w-full",children:[(0,s.jsx)("div",{className:"mb-6",children:(0,s.jsxs)("button",{onClick:()=>{let e=o.get("from");"home"===e?r.push("/?show=content"):"blog"===e?r.push("/blog"):r.back()},className:"flex items-center gap-2 text-sm text-muted-foreground hover:text-foreground transition-colors",children:[(0,s.jsx)("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"返回"]})}),(0,s.jsx)("article",{className:"prose prose-invert max-w-none",children:(0,s.jsxs)("div",{className:"mb-6",children:[(0,s.jsx)("h1",{className:"text-3xl font-bold text-foreground mb-3 ml-1",children:g.title}),(0,s.jsxs)("div",{className:"flex items-center gap-4 text-[13px] text-muted-foreground ml-1",children:[(0,s.jsx)("span",{children:g.date}),(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("span",{onClick:()=>f(g.category),className:"px-1.5 py-1 text-xs font-normal leading-none text-muted-foreground rounded-sm cursor-pointer hover:text-foreground transition-colors",style:{background:"rgba(107, 114, 128, 0.3)",transform:"translateY(-1px)"},children:g.category}),(0,s.jsx)("div",{className:"flex gap-3",children:g.tags.map((e,t)=>(0,s.jsxs)("span",{onClick:()=>p(e),className:"text-[13px] text-muted-foreground cursor-pointer hover:text-foreground transition-colors",children:["#",e]},t))})]})]})]})}),(0,s.jsxs)("div",{className:"flex gap-4",children:[(0,s.jsx)("div",{className:"flex-1",children:(0,s.jsx)("div",{className:"bg-card border border-border rounded-lg px-8 pt-2 pb-3",children:(0,s.jsx)("div",{className:"prose prose-invert max-w-none text-[15px]",children:g.content.split("\n").map((e,t,r)=>{if(e.startsWith("# "))return(0,s.jsx)("h1",{id:"heading-".concat(t),className:"text-2xl font-bold text-foreground mb-4 mt-6",children:e.substring(2)},t);if(e.startsWith("## "))return(0,s.jsx)("h2",{id:"heading-".concat(t),className:"text-xl font-semibold text-foreground mb-5 mt-6",children:e.substring(3)},t);if(e.startsWith("### "))return(0,s.jsx)("h3",{id:"heading-".concat(t),className:"text-lg font-medium text-foreground mb-4 mt-5",children:e.substring(4)},t);if(e.startsWith("- ")){let n=r[t+1],l=n&&(n.startsWith("- ")||/^\d+\.\s/.test(n));return(0,s.jsx)("li",{className:"text-foreground ml-8 ".concat(l?"mb-1":"mb-3"),children:u(e.substring(2))},t)}if(/^\d+\.\s/.test(e)){let n=e.replace(/^\d+\.\s/,""),l=r[t+1],a=l&&(l.startsWith("- ")||/^\d+\.\s/.test(l));return(0,s.jsx)("li",{className:"text-foreground ml-8 ".concat(a?"mb-1":"mb-3"),children:u(n)},t)}else if(e.includes("`")&&e.includes("`")){let r=e.split("`");return(0,s.jsx)("p",{className:"text-foreground mb-3 pl-4",children:r.map((e,t)=>t%2==1?(0,s.jsx)("code",{className:"bg-muted px-1 py-0.5 rounded text-sm font-mono",children:e},t):e)},t)}else{if(""===e.trim())return(0,s.jsx)("br",{},t);let n=r[t+1],l=n&&(n.startsWith("# ")||n.startsWith("## ")||n.startsWith("### "));return(0,s.jsx)("p",{className:"text-foreground pl-4 ".concat(l?"mb-4":"mb-3"),children:u(e)},t)}})})})}),(0,s.jsx)("div",{className:"w-80 space-y-4",children:(0,s.jsxs)("div",{className:"bg-card border border-border rounded-lg p-4 sticky top-16 relative",style:{maxHeight:"calc(100vh - 106px)"},children:[(0,s.jsxs)("div",{className:"absolute top-4 right-4 w-10 h-10 flex items-center justify-center",children:[(0,s.jsxs)("svg",{className:"w-10 h-10 transform -rotate-90",children:[(0,s.jsx)("circle",{cx:"20",cy:"20",r:"16",stroke:"currentColor",strokeWidth:"2.5",fill:"none",className:"text-muted opacity-20"}),(0,s.jsx)("circle",{cx:"20",cy:"20",r:"16",stroke:"currentColor",strokeWidth:"2.5",fill:"none",strokeDasharray:"".concat(2*Math.PI*16),strokeDashoffset:"".concat(2*Math.PI*16*(1-i/100)),className:"text-primary transition-all duration-300",strokeLinecap:"round"})]}),(0,s.jsxs)("span",{className:"absolute text-[10px] font-medium",children:[Math.round(i),"%"]})]}),(0,s.jsx)("h3",{className:"text-lg font-semibold mb-4 ml-1",children:"目录"}),(0,s.jsx)("div",{ref:m,className:"space-y-2 ml-1 overflow-y-auto scrollbar-hide pr-2",style:{maxHeight:"calc(100vh - 206px)",paddingTop:"10px"},children:g.content.split("\n").map((e,t)=>{if(e.startsWith("## ")){let r=h.includes("heading-".concat(t));return(0,s.jsx)("a",{href:"#heading-".concat(t),onClick:e=>{e.preventDefault();let r=document.getElementById("heading-".concat(t));r&&r.scrollIntoView({behavior:"smooth",block:"start"})},className:"block text-sm transition-colors py-1 ".concat(r?"text-primary font-medium":"text-muted-foreground hover:text-primary"),children:e.substring(3)},t)}if(e.startsWith("### ")){let r=h.includes("heading-".concat(t));return(0,s.jsx)("a",{href:"#heading-".concat(t),onClick:e=>{e.preventDefault();let r=document.getElementById("heading-".concat(t));r&&r.scrollIntoView({behavior:"smooth",block:"start"})},className:"block text-sm transition-colors py-1 ml-4 ".concat(r?"text-primary font-medium":"text-muted-foreground hover:text-primary"),children:e.substring(4)},t)}return null}).filter(Boolean)})]})})]})]})})})]})}):(0,s.jsx)("div",{className:"min-h-screen bg-background",children:(0,s.jsxs)("div",{className:"flex",children:[(0,s.jsx)(a.Sidebar,{}),(0,s.jsx)("div",{className:"flex-1 lg:ml-64",children:(0,s.jsx)("main",{className:"px-6 lg:px-12 py-16 h-full flex flex-col justify-center",children:(0,s.jsx)("div",{className:"max-w-6xl mx-auto w-full",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("h1",{className:"text-3xl font-bold text-foreground mb-6",children:"文章未找到"}),(0,s.jsx)("p",{className:"text-muted-foreground",children:"抱歉，找不到对应的文章内容。"})]})})})})]})})}}},e=>{var t=t=>e(e.s=t);e.O(0,[645,441,684,358],()=>t(5815)),_N_E=e.O()}]);